import { Principal } from '../../principal/index.js';
import { HttpAgent } from '../agent/http/index.ts';
import { type BaseSubnetStatus, type BaseStatus, CustomPath } from '../utils/readState.ts';
export { type DecodeStrategy, CustomPath } from '../utils/readState.ts';
export type SubnetStatus = BaseSubnetStatus;
export type Status = BaseStatus | SubnetStatus;
/**
 * Pre-configured fields for canister status paths
 */
export type Path = 'time' | 'controllers' | 'subnet' | 'module_hash' | 'candid' | CustomPath;
export type StatusMap = Map<Path | string, Status>;
export type CanisterStatusOptions = {
    /**
     * The effective canister ID to use in the underlying {@link HttpAgent.readState} call.
     */
    canisterId: Principal;
    /**
     * The agent to use to make the canister request. Must be authenticated.
     */
    agent: HttpAgent;
    /**
     * The paths to request.
     * @default []
     */
    paths?: Path[] | Set<Path>;
    /**
     * Whether to disable the certificate freshness checks.
     * @default false
     */
    disableCertificateTimeVerification?: boolean;
};
/**
 * Requests information from a canister's `read_state` endpoint.
 * Can be used to request information about the canister's controllers, time, module hash, candid interface, and more.
 *
 * > [!WARNING]
 * > Requesting the `subnet` path from the canister status might be deprecated in the future.
 * > Use {@link https://js.icp.build/core/latest/libs/agent/api/namespaces/subnetstatus/functions/request | SubnetStatus.request} to fetch subnet information instead.
 * @param {CanisterStatusOptions} options The configuration for the canister status request.
 * @see {@link CanisterStatusOptions} for detailed options.
 * @returns {Promise<StatusMap>} A map populated with data from the requested paths. Each path is a key in the map, and the value is the data obtained from the certificate for that path.
 * @example
 * const status = await canisterStatus({
 *   paths: ['controllers', 'candid'],
 *   ...options
 * });
 *
 * const controllers = status.get('controllers');
 */
export declare const request: (options: CanisterStatusOptions) => Promise<StatusMap>;
/**
 * Lookup node keys from a certificate for a given canister.
 * The certificate is assumed to be already verified, including whether the canister is in range of the subnet.
 * @param certificate the certificate to lookup node keys from
 * @param canisterId the canister ID to lookup node keys for
 * @param root_key the root key to use to lookup node keys
 * @returns a map of node IDs to public keys
 */
export declare const fetchNodeKeys: (certificate: Uint8Array, canisterId: Principal, root_key?: Uint8Array) => BaseSubnetStatus;
export declare const encodePath: (path: Path, canisterId: Principal) => Uint8Array[];
//# sourceMappingURL=index.d.ts.map